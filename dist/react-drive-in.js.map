{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f69f755ff6bf7549d7a0","webpack:///./lib/react-drive-in.jsx","webpack:///external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack:///./lib/drive-in.js","webpack:///./~/jvent/index.js","webpack:///./~/inherits/inherits_browser.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;ACtCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,MAAK;;AAEL;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA,kBAAiB,sBAAsB;;AAEvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA,wDAAuD,8BAA8B,EAAE;AACvF,sDAAqD,iBAAiB,EAAE;;AAExE;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA,UAAS;AACT,wCAAuC,yDAAyD;AAChG;;AAEA;AACA,4BAA2B,0CAA0C;AACrE;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,0BAAyB,kEAAkE;AAC3F;AACA;AACA;AACA;AACA,EAAC;;;;;;;AClJD,gD;;;;;;ACAA;AACA;;AAEA;AACA,mBAAkB;AAClB;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA,2BAA0B;AAC1B;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,cAAa;;AAEb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,cAAa;;AAEb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtnBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAW,sBAAsB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDriveIn\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactDriveIn\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f69f755ff6bf7549d7a0\n **/","/** @jsx React.DOM */var React = require('react');\nvar DriveIn = require('./drive-in');\n\nmodule.exports = React.createClass({\n    displayName: 'DriveIn',\n\n    propTypes: {\n        show: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.array]),\n        showPlaylist: React.PropTypes.oneOfType([React.PropTypes.array]),\n        poster: React.PropTypes.string,\n        duration: React.PropTypes.number,\n        mute: React.PropTypes.bool,\n        loop: React.PropTypes.bool,\n        slideshow: React.PropTypes.bool,\n        onPlaying: React.PropTypes.func,\n        onPause: React.PropTypes.func\n    },\n\n    getDefaultProps:function() {\n        return {\n            className: 'drive-in',\n            duration: 'auto',\n            mute: true,\n            loop: true,\n            slideshow: false,\n            volume: 0.5\n        };\n    },\n\n    getInitialState:function() {\n        return {\n            playlist: null,\n            initialized: false,\n            playing: false,\n            mute: true,\n            currentItem: 0\n        };\n    },\n\n    getMedia:function() {\n        return this.refs.media.getDOMNode();\n    },\n\n    getPlaylist:function() {\n        return this.state.playlist;\n    },\n\n    setPlaying:function(currentItem) {\n        this.setState({\n            playing: true,\n            currentItem: currentItem\n        });\n\n        if (this.props.onPlaying) {\n            this.props.onPlaying(currentItem);\n        }\n    },\n\n    setPause:function() {\n        this.setState({ playing: false });\n        if (this.props.onPause) {\n            this.props.onPause();\n        }\n    },\n\n    componentWillMount:function() {\n        this.DI = new DriveIn();\n    },\n\n    componentDidMount:function() {\n        var DI = this.DI,\n            options,\n            playlist;\n\n        DI.init({ el: this.getMedia() });\n\n        options = {\n            mute: this.props.mute,\n            duration: this.props.duration,\n            loop: this.props.loop,\n            poster: this.props.poster\n        };\n\n        if (this.props.showPlaylist) {\n            playlist = DI.showPlaylist(this.props.showPlaylist, options);\n        } else {\n            playlist = DI.show(this.props.show, options);\n        }\n\n        DI.on('media.playing', function(currentItem)  { this.setPlaying(currentItem); }.bind(this));\n        DI.on('media.pause', function(currentItem)  { this.setPause(); }.bind(this));\n\n        this.setState({\n            mute: this.props.mute,\n            playlist: playlist,\n            initalized: true\n        });\n    },\n\n    componentWillUnmount:function() {\n        this.DI.removeAllListeners();\n        this.DI.close();\n        delete(this.DI);\n    },\n\n    play:function(itemNum) {\n        this.DI.play(itemNum);\n    },\n\n    pause:function() {\n        this.DI.pause();\n    },\n\n    mute:function() {\n        this.DI.setVolume(0);\n        this.state.mute = true;\n    },\n\n    unmute:function() {\n        this.DI.setVolume(this.props.volume);\n        this.state.mute = false;\n    },\n\n    renderMedia:function() {\n        var content;\n\n        if ('ontouchstart' in window || this.props.slideshow) {\n            content = React.DOM.img(null);\n        } else {\n            content = React.DOM.video({height: \"1\", width: \"1\", preload: \"auto\", autoplay: true});\n        }\n\n        return (\n            React.DOM.div({ref: \"media\", className: \"drive-in-media\"}, \n                content\n            )\n        );\n    },\n\n    render:function() {\n        return (\n          React.DOM.div({ref: \"wrap\", id: \"drive-in-wrap\", className: this.props.className}, \n            this.renderMedia()\n          )\n        );\n    }\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/react-drive-in.jsx\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}\n ** module id = 1\n ** module chunks = 0\n **/","/** @jsx React.DOM */var Jvent = require('jvent');\nvar inherits = require('inherits');\n\nfunction getMedia(el) {\n    var media = {},\n        children = el.children,\n        node;\n\n    for (var i = 0; i < children.length; i++) {\n        node = children[i];\n        if (node.nodeName === 'VIDEO' && !media.el) {\n            media.type = 'video';\n            media.el = node;\n        }\n\n        if (node.nodeName === 'IMG' && !media.el) {\n            media.type = 'image';\n            media.el = node;\n        }\n    }\n\n    return media;\n}\n\nfunction windowWidth() {\n    if (self.innerHeight) {\n        return self.innerWidth;\n    }\n\n    if (document.documentElement && document.documentElement.clientHeight) {\n        return document.documentElement.clientWidth;\n    }\n\n    if (document.body) {\n        return document.body.clientWidth;\n    }\n}\n\nfunction windowHeight() {\n    if (self.innerHeight) {\n        return self.innerHeight;\n    }\n\n    if (document.documentElement && document.documentElement.clientHeight) {\n        return document.documentElement.clientHeight;\n    }\n\n    if (document.body) {\n        return document.body.clientHeight;\n    }\n}\n\nfunction setStyles(el, props) {\n    var cssString = '';\n    for (var p in props) {\n        cssString += p + ':' + props[p] + ';';\n    }\n    el.style.cssText += ';' + cssString;\n}\n\nfunction playlistItem(src) {\n    var item = {},\n        type,\n        videoExts = {\n            mp4: true,\n            ogv: true,\n            webm: true\n        },\n        imageExts = {\n            jpg: true,\n            png: true,\n            gif: true\n        };\n\n    var ext = src.match(/\\.([mp4|ogv|webm|jpg|jpeg|png|gif]+)$/)[1];\n\n    if (videoExts[ext]) {\n        if (ext === 'ogv') {\n            item.type = 'video/ogg';\n        } else {\n            item.type = 'video/' + ext;\n        }\n    }\n\n    if (imageExts[ext]) {\n        if (ext === 'jpg') {\n            item.type = 'image/jpeg';\n        } else {\n            item.type = 'image/' + ext;\n        }\n    }\n\n    item.src = src;\n\n    return item;\n}\n\nfunction makePlaylist(rawPlaylist, depth) {\n    depth = depth || 0;\n\n    var playlist = [],\n        item;\n\n    for (var i in rawPlaylist) {\n        item = rawPlaylist[i];\n        if (item.constructor === Object) {\n            playlist.push([item]);\n        }\n\n        if (item.constructor === Array) {\n            playlist.push(makePlaylist(item, depth + 1));\n        }\n\n        if (typeof item === 'string') {\n            if (depth === 0) {\n                playlist.push([playlistItem(item)]);\n            } else {\n                playlist.push(playlistItem(item));\n            }\n        }\n    }\n\n    return playlist;\n}\n\nfunction findPoster(playlist) {\n    var poster,\n        item;\n\n    for (var i in playlist) {\n        item = playlist[i];\n\n        if (item.constructor === Array) {\n            poster = findPoster(item);\n        } else {\n            if (item.type.search(/^image/) > -1) {\n                return item;\n            }\n        }\n\n        if (poster) {\n            return poster;\n        }\n    }\n}\n\nfunction createEl(name, props) {\n    var el = document.createElement(name);\n    for (var prop in props) {\n        el[prop] = props[prop];\n    }\n    return el;\n}\n\nfunction Timer(callback, delay) {\n    var self = this;\n    var timerId, start, remaining = delay;\n\n    this.pause = function(silent) {\n        window.clearTimeout(timerId);\n        remaining -= new Date() - start;\n\n        if (!silent) this.emit('pause');\n    };\n\n    this.resume = function(silent) {\n        start = new Date();\n        window.clearTimeout(timerId);\n        timerId = window.setTimeout(callback, remaining);\n\n        if (!silent) this.emit('resume');\n    };\n\n    this.destroy = function() {\n        self.pause(true);\n        self.removeAllListeners();\n    };\n\n    this.resume();\n}\n\ninherits(Timer, Jvent);\n\nfunction DriveIn() {\n    this._listeners = [];\n\n    this.parentEl = null;\n    this.mediaEl = null;\n    this.mute = true;\n    this.currMediaType = null;\n    this.mediaAspect = 16 / 9;\n    this.playlist = null;\n    this.loop = true;\n\n    this.playlistLength = 0;\n    this.currentItem = 0;\n    this.slideshowItemDuration = 10;\n    this._slideshowTimer = null;\n\n    this.poster = null;\n}\n\ninherits(DriveIn, Jvent);\n\nDriveIn.prototype._updateSize = function() {\n\n    var container = document.body,\n        parentEl = this.parentEl,\n        mediaEl = this.mediaEl,\n        mediaAspect = this.mediaAspect,\n        currMediaType = this.currMediaType;\n\n    var winW = windowWidth(),\n        winH = windowHeight(),\n        containerW = container.offsetWidth < winW ? container.offsetWidth : winW,\n        containerH = container.offsetHeight < winH ? container.offsetHeight : winH,\n        containerAspect = containerW / containerH;\n\n    if (container.nodeName === 'BODY') {\n        setStyles(container, {\n            height: 'auto'\n        });\n\n        if (winH > container.offsetHeight) {\n            setStyles(container, {\n                height: '100%'\n            });\n            setStyles(document.documentElement, {\n                height: '100%'\n            });\n        }\n    }\n\n    if (containerAspect < mediaAspect) {\n        // taller\n        if (currMediaType == 'video') {\n\n            setStyles(parentEl, {\n                width: containerH * mediaAspect + 'px',\n                height: containerH + 'px'\n            });\n\n            setStyles(parentEl, {\n                height: containerH + 'px'\n            });\n\n            setStyles(mediaEl, {\n                width: (containerH * mediaAspect) + 'px',\n                height: containerH + 'px'\n            });\n\n        } else {\n\n            // is image\n            setStyles(mediaEl, {\n                width: 'auto',\n                height: containerH + 'px'\n                    // top: '0px',\n                    // left: (-(containerH * mediaAspect - containerW) / 2) + 'px'\n            });\n        }\n\n    } else {\n\n        // wider\n        if (currMediaType == 'video') {\n\n            setStyles(parentEl, {\n                width: containerW + 'px',\n                height: (containerW / mediaAspect) + 'px'\n            });\n\n            setStyles(parentEl, {\n                height: (containerW / mediaAspect) + 'px'\n            });\n\n            setStyles(mediaEl, {\n                width: parentEl.offsetWidth + 'px',\n                height: 'auto'\n            });\n\n        } else {\n\n            // is image\n            setStyles(mediaEl, {\n                width: containerW + 'px',\n                height: 'auto'\n                    // top: (-(containerW / mediaAspect - containerH) / 2) + 'px',\n                    // left: '0px'\n            });\n        }\n    }\n};\n\nDriveIn.prototype._setVideoData = function(data) {\n    var mediaEl = this.mediaEl;\n    this.mediaAspect = mediaEl.videoWidth / mediaEl.videoHeight;\n    this._updateSize();\n\n\n    // var dur = Math.round(player.duration());\n    // var durMinutes = Math.floor(dur/60);\n    // var durSeconds = dur - durMinutes*60;\n    // if (durSeconds < 10) durSeconds='0'+durSeconds;\n    // vidDur = durMinutes+':'+durSeconds;\n\n};\n\nDriveIn.prototype._setImageData = function(data) {\n    this.mediaAspect = data.naturalWidth / data.naturalHeight;\n    this._updateSize();\n};\n\nDriveIn.prototype._playVideoItem = function(item, itemNum) {\n    var mediaEl = this.mediaEl,\n        source,\n        src,\n        canPlayType;\n\n    for (var i in item) {\n        source = item[i];\n        canPlayType = mediaEl.canPlayType(source.type);\n        if (canPlayType === 'probably') {\n            src = source.src;\n        } else if (canPlayType && !src) {\n            src = source.src;\n        }\n    }\n\n    if (src) {\n\n        this.mediaEl.src = src;\n\n        if (this.playlistLength < 2) this.mediaEl.loop = true;\n        if (this.mute) this.setVolume(0);\n\n        this.currentItem = itemNum;\n\n        this.mediaEl.load();\n\n    } else {\n\n        this.emit('media.error', new Error('No playable source'));\n    }\n};\n\nDriveIn.prototype._playImageItem = function(item, itemNum) {\n    var mediaEl = this.mediaEl,\n        source,\n        src,\n        canPlay;\n\n    for (var i in item) {\n        source = item[i];\n        if (source.type.search(/^image/) === 0 && !src) {\n            src = source.src;\n        }\n    }\n\n    if (!src && this.poster) {\n        src = this.poster.src;\n    }\n\n    if (src) {\n\n        this.mediaEl.src = src;\n        this.currentItem = itemNum;\n\n    } else {\n\n        this.emit('media.error', new Error('No playable source'));\n    }\n};\n\nDriveIn.prototype._playItem = function(item, itemNum) {\n    if (this.currMediaType === 'video') {\n        this._playVideoItem(item, itemNum);\n    }\n\n    if (this.currMediaType === 'image') {\n        this._playImageItem(item, itemNum);\n    }\n};\n\nDriveIn.prototype._loadPlaylist = function(playlist) {\n    this.playlist = playlist;\n    this.playlistLength = playlist.length;\n    this._playItem(playlist[0], 0);\n};\n\nDriveIn.prototype._addListener = function(element, event, handler) {\n\n    element.addEventListener(event, handler);\n\n    this._listeners.push({\n        element: element,\n        event: event,\n        handler: handler\n    });\n};\n\nDriveIn.prototype._removeAllListeners = function() {\n    var listeners = this._listeners,\n        listen;\n\n    for (var i in listeners) {\n        listen = listeners[i];\n        listen.element.removeEventListener(listen.event, listen.handler);\n    }\n};\n\nDriveIn.prototype._attachVideoListeners = function() {\n    var self = this,\n        mediaEl = this.mediaEl;\n\n    function onLoadedMetadata(data) {\n        self._setVideoData(data);\n    }\n\n    function onPlaying() {\n        self.emit('media.playing', self.currentItem);\n    }\n\n    function onPause() {\n        self.emit('media.pause');\n    }\n\n    function onEnded() {\n        self.emit('media.ended', self.currentItem);\n\n        if (self.playlistLength > 1 && self.loop) {\n            var itemNum = 0;\n            if (self.currentItem + 1 < self.playlistLength) {\n                itemNum = self.currentItem + 1;\n            }\n            self.play(itemNum);\n        }\n    }\n\n    function onCanPlay() {\n        mediaEl.play();\n    }\n\n    this._addListener(mediaEl, 'loadedmetadata', onLoadedMetadata);\n    this._addListener(mediaEl, 'playing', onPlaying);\n    this._addListener(mediaEl, 'pause', onPause);\n    this._addListener(mediaEl, 'ended', onEnded);\n    this._addListener(mediaEl, 'canplay', onCanPlay);\n};\n\nDriveIn.prototype._attachImageListeners = function() {\n    var self = this,\n        mediaEl = this.mediaEl;\n\n    function ended() {\n        var event = new Event('ended');\n        self.mediaEl.dispatchEvent(event);\n    }\n\n    function onPause() {\n        self.emit('media.pause');\n    }\n\n    function onLoad(data) {\n        if (self.playlistLength > 1) {\n            if (self._slideshowTimer) self._slideshowTimer.destroy();\n            self._slideshowTimer = new Timer(ended, self.slideshowItemDuration * 1000);\n\n            self._slideshowTimer.on('pause', onPause);\n        }\n\n        self._setImageData(this);\n        self.emit('media.playing', self.currentItem);\n    }\n\n    function onEnded() {\n        self.emit('media.ended', self.currentItem);\n        if (self.playlistLength > 1 && self.loop) {\n            var itemNum = (self.currentItem + 1 < self.playlistLength) ? self.currentItem + 1 : 0;\n            self.play(itemNum);\n        }\n    }\n\n    this._addListener(mediaEl, 'load', onLoad);\n    this._addListener(mediaEl, 'ended', onEnded);\n};\n\nDriveIn.prototype._attachListeners = function() {\n    var self = this;\n\n    function onResize() {\n        window.requestAnimationFrame(self._updateSize.bind(self));\n    }\n\n    this._addListener(window, 'resize', onResize);\n\n    if (this.currMediaType === 'video') {\n        this._attachVideoListeners();\n    } else {\n        this._attachImageListeners();\n    }\n};\n\nDriveIn.prototype._setParent = function(el) {\n    this.parentEl = el;\n\n    setStyles(this.parentEl, {\n        position: 'absolute',\n        display: 'block',\n        transform: 'translate3d(-50%,-50%,0)',\n        '-webkit-transform': 'translate3d(-50%,-50%,0)',\n        left: '50%',\n        top: '50%'\n    });\n\n    return this.parentEl;\n};\n\nDriveIn.prototype._setMedia = function(media) {\n    this.mediaEl = media.el;\n    setStyles(this.mediaEl, {\n        display: 'block'\n    });\n\n    this.currMediaType = media.type;\n\n    return this.mediaEl;\n};\n\nDriveIn.prototype.init = function(options) {\n    var parentEl = this._setParent(options.el);\n    var media = getMedia(parentEl);\n    this._setMedia(media);\n    this._attachListeners();\n};\n\nDriveIn.prototype.show = function(rawItem, options) {\n    if (rawItem.constructor === Array) {\n        return this.showPlaylist([rawItem], options);\n    }\n\n    if (rawItem.constructor === Object) {\n        return this.showPlaylist([\n            [rawItem]\n        ], options);\n    }\n\n    return this.showPlaylist([\n        [playlistItem(rawItem)]\n    ], options);\n};\n\nDriveIn.prototype.showPlaylist = function(rawPlaylist, options) {\n    if (options.hasOwnProperty('mute')) {\n        this.mute = options.mute;\n    }\n    if (options.hasOwnProperty('loop')) {\n        this.loop = options.loop;\n    }\n    var playlist = makePlaylist(rawPlaylist);\n\n    if (options.poster) {\n        this.poster = options.poster;\n    } else {\n        this.poster = findPoster(playlist);\n    }\n\n    this._loadPlaylist(playlist);\n};\n\nDriveIn.prototype.setVolume = function(level) {\n    if (this.currMediaType === 'image') {\n        return;\n    }\n\n    if (level === 0) {\n        this.mute = true;\n        this.mediaEl.muted = true;\n        this.mediaEl.volume = 0;\n    } else {\n        this.mute = false;\n        this.mediaEl.muted = false;\n        this.mediaEl.volume = level;\n    }\n};\n\nDriveIn.prototype.getMedia = function() {\n    return this.mediaEl;\n};\n\nDriveIn.prototype.getPlaylist = function() {\n    return this.playlist;\n};\n\nDriveIn.prototype.getItem = function(itemNum) {\n    return this.playlist[itemNum];\n};\n\nDriveIn.prototype.play = function(itemNum) {\n    if (typeof itemNum === 'number') {\n        this._playItem(this.playlist[itemNum], itemNum);\n    } else {\n        if (this.currMediaType === 'video') {\n            this.mediaEl.play()\n        } else {\n            if (this._slideshowTimer) {\n                this._slideshowTimer.resume();\n            }\n        }\n    }\n};\n\nDriveIn.prototype.pause = function() {\n    if (this.currMediaType === 'video') {\n        this.mediaEl.pause()\n    } else {\n        if (this._slideshowTimer) {\n            this._slideshowTimer.pause();\n        }\n    }\n};\n\nDriveIn.prototype.close = function() {\n    this._removeAllListeners();\n    if (this._slideshowTimer) {\n        this._slideshowTimer.destroy();\n        delete this._slideshowTimer;\n    }\n};\n\nmodule.exports = DriveIn;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/drive-in.js\n ** module id = 2\n ** module chunks = 0\n **/","/** @jsx React.DOM */'use strict';\n\nfunction Jvent() {}\n\n/**\n * Adds a listener to the collection for a specified event.\n * @public\n * @function\n * @name Jvent#on\n * @param {string} event Event name.\n * @param {function} listener Listener function.\n * @example\n * // Will add a event listener to the \"ready\" event\n * var startDoingStuff = function (event, param1, param2, ...) {\n *   // Some code here!\n * };\n *\n * me.on(\"ready\", startDoingStuff);\n */\nJvent.prototype.on = function(event, listener) {\n  this._collection = this._collection || {};\n  this._collection[event] = this._collection[event] || [];\n  this._collection[event].push(listener);\n  return this;\n};\n\n/**\n * Adds a one time listener to the collection for a specified event. It will execute only once.\n * @public\n * @function\n * @name Jvent#once\n * @param {string} event Event name.\n * @param {function} listener Listener function.\n * @returns itself\n * @example\n * // Will add a event handler to the \"contentLoad\" event once\n * me.once(\"contentLoad\", startDoingStuff);\n */\nJvent.prototype.once = function (event, listener) {\n  var that = this;\n\n  function fn() {\n    that.off(event, fn);\n    listener.apply(this, arguments);\n  }\n\n  fn.listener = listener;\n\n  this.on(event, fn);\n\n  return this;\n};\n\n/**\n * Removes a listener from the collection for a specified event.\n * @public\n * @function\n * @name Jvent#off\n * @param {string} event Event name.\n * @param {function} listener Listener function.\n * @returns itself\n * @example\n * // Will remove event handler to the \"ready\" event\n * var startDoingStuff = function () {\n *   // Some code here!\n * };\n *\n * me.off(\"ready\", startDoingStuff);\n */\nJvent.prototype.off = function (event, listener) {\n\n  var listeners = this._collection[event],\n      j = 0;\n\n  if (listeners !== undefined) {\n    for (j; j < listeners.length; j += 1) {\n      if (listeners[j] === listener || listeners[j].listener === listener) {\n        listeners.splice(j, 1);\n        break;\n      }\n    }\n  }\n\n  if (listeners.length === 0) {\n    this.removeAllListeners(event);\n  }\n\n  return this;\n};\n\n/**\n * Removes all listeners from the collection for a specified event.\n * @public\n * @function\n * @name Jvent#removeAllListeners\n * @param {string} event Event name.\n * @returns itself\n * @example\n * me.removeAllListeners(\"ready\");\n */\nJvent.prototype.removeAllListeners = function (event) {\n  this._collection = this._collection || {};\n  delete this._collection[event];\n  return this;\n};\n\n/**\n * Returns all listeners from the collection for a specified event.\n * @public\n * @function\n * @name Jvent#listeners\n * @param {string} event Event name.\n * @returns Array\n * @example\n * me.listeners(\"ready\");\n */\nJvent.prototype.listeners = function (event) {\n  this._collection = this._collection || {};\n  return this._collection[event];\n};\n\n/**\n * Execute each item in the listener collection in order with the specified data.\n * @name Jvent#emit\n * @public\n * @protected\n * @param {string} event The name of the event you want to emit.\n * @param {...object} var_args Data to pass to the listeners.\n * @example\n * // Will emit the \"ready\" event with \"param1\" and \"param2\" as arguments.\n * me.emit(\"ready\", \"param1\", \"param2\");\n */\nJvent.prototype.emit = function () {\n  if (this._collection === undefined) {\n    return this;\n  }\n\n  var args = [].slice.call(arguments, 0), // converted to array\n      event = args.shift(),\n      listeners = this._collection[event],\n      i = 0,\n      len;\n\n  if (listeners) {\n    listeners = listeners.slice(0);\n    len = listeners.length;\n    for (i; i < len; i += 1) {\n      listeners[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Expose\n */\nmodule.exports = Jvent;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/jvent/index.js\n ** module id = 3\n ** module chunks = 0\n **/","/** @jsx React.DOM */if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/inherits/inherits_browser.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"react-drive-in.js"}